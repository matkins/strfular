-content_for :javascript do
  =javascript_include_tag 'timepicker.js'
  :javascript
    var Strftime = {
      convert: function() {
        var date = new Date($('#date_picker').val());
        $('#result').html(date.strftime($('#format').val()));
      },
      init_datepicker: function() {
        $('#date_picker').datepicker({
          duration: '',
          dateFormat: 'mm/dd/yy',
          showTime: true,
          constrainInput: false,
          stepMinutes: 15,
          stepHours: 1,
          altTimeField: '',
          time24h: true
        });
      }
    }
    $(document).ready(function(){
      Strftime.init_datepicker();
      Strftime.convert();
    });
#wrapper
  %h1 STRFULAR
  #box
    =text_field_tag :date_time, Time.now.strftime("%m/%d/%Y %H:%m"), :id => "date_picker", :onchange => "Strftime.convert();"
    %br
    =text_field_tag :format, "%d/%m/%Y, %I:%m%P", :onkeyup => "Strftime.convert();"
    %p#result result
  #help
    %dl
      %p Dates
      %dt %a
      %dd The abbreviated weekday name ("Sun")
      %dt %A
      %dd The full weekday name ("Sunday")
      %dt %b
      %dd The abbreviated month name ("Jan")
      %dt %B
      %dd The full month name ("January")
      %dt %C
      %dd The century number (00..99)
      %dt %d
      %dd Day of the month (01..31)
      %dt %e
      %dd Day of the month without a leading zero (1..31)
      %dt %h
      %dd The same as %b
      %dt %j
      %dd Day of the year (001..366)
      %dt %m
      %dd Month of the year (01..12)
      %dt %u
      %dd Day of the week (Monday is 1, 1..7)
    %dl
      %br
      %dt %U
      %dd Week number of the current year, starting with the first Sunday as the first day of the first week (00..53)
      %dt %W
      %dd Week number of the current year, starting with the first Monday as the first day of the first week (00..53)
      %dt %w
      %dd Day of the week (Sunday is 0, 0..6)
      %dt %x
      %dd Preferred representation for the date alone, no time
      %dt %y
      %dd Year without a century (00..99)
      %dt %Y
      %dd Year with century
    %dl  
      %p Times
      %dt %H
      %dd Hour of the day, 24-hour clock (00..23)
      %dt %I
      %dd Hour of the day, 12-hour clock (01..12)
      %dt %M
      %dd Minute of the hour (00..59)
      %dt %p
      %dd Meridian indicator ("AM"  or  "PM")
      %dt %P
      %dd Lower case Meridian indicator ("am"  or  "pm")
      %dt %S
      %dd Second of the minute (00..60)
      %dt %x
      %dd Preferred representation for the date alone, no time
      %dt %X
      %dd Preferred representation for the time alone, no date
      %dt %Z
      %dd Time zone name
      %dt %z
      %dd Numerical time zone
    %dl
      %p Formatted dates and times
      %dt %c
      %dd The preferred local date and time representation
      %dt %D
      %dd The same as m/d/y
      %dt %n
      %dd New line character
      %dt %r
      %dd The time with AM and PM, (same as I:M:S p)"
      %dt %T
      %dd Current time (same as H:M:S)
      %dt %%
      %dd Literal "%" character
    %dl
      %p Misc.
      %dt %n
      %dd New line character
      %dt %t
      %dd Tab character
      %dt %%
      %dd Literal "%" character
    %br.clear
    


-#
  %p="%V - The ISO 8601:1988 week number of the current year as a decimal number, range 01 to 53, where week 1 is the first week that has at least 4 days in the current year, and with Monday as the first day of the week."